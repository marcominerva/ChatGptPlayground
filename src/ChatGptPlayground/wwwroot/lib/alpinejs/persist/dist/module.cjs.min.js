/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@alpinejs/persist@3.13.4/dist/module.cjs.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,t)=>{for(var r in t)__defProp(e,r,{get:t[r],enumerable:!0})},__copyProps=(e,t,r,o)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of __getOwnPropNames(t))__hasOwnProp.call(e,s)||s===r||__defProp(e,s,{get:()=>t[s],enumerable:!(o=__getOwnPropDesc(t,s))||o.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),module_exports={};function src_default(e){let t=()=>{let t,r;try{r=localStorage}catch(e){console.error(e),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let t=new Map;r={getItem:t.get.bind(t),setItem:t.set.bind(t)}}return e.interceptor(((o,s,a,n,_)=>{let l=t||`_x_${n}`,p=storageHas(l,r)?storageGet(l,r):o;return a(p),e.effect((()=>{let e=s();storageSet(l,e,r),a(e)})),p}),(e=>{e.as=r=>(t=r,e),e.using=t=>(r=t,e)}))};Object.defineProperty(e,"$persist",{get:()=>t()}),e.magic("persist",t),e.persist=(t,{get:r,set:o},s=localStorage)=>{let a=storageHas(t,s)?storageGet(t,s):r();o(a),e.effect((()=>{let e=r();storageSet(t,e,s),o(e)}))}}function storageHas(e,t){return null!==t.getItem(e)}function storageGet(e,t){return JSON.parse(t.getItem(e,t))}function storageSet(e,t,r){r.setItem(e,JSON.stringify(t))}__export(module_exports,{default:()=>module_default,persist:()=>src_default}),module.exports=__toCommonJS(module_exports);var module_default=src_default;
//# sourceMappingURL=/sm/ca19998eaa351058e3caab9414fc0d126447ac27dcb5e27ca244c0606cd5c029.map