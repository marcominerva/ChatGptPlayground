/**
 * Minified by jsDelivr using Terser v5.19.2.
 * Original file: /npm/@alpinejs/persist@3.13.8/dist/module.esm.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
function src_default(e){let t=()=>{let t,r;try{r=localStorage}catch(e){console.error(e),console.warn("Alpine: $persist is using temporary storage since localStorage is unavailable.");let t=new Map;r={getItem:t.get.bind(t),setItem:t.set.bind(t)}}return e.interceptor(((s,a,o,l,n)=>{let i=t||`_x_${l}`,g=storageHas(i,r)?storageGet(i,r):s;return o(g),e.effect((()=>{let e=a();storageSet(i,e,r),o(e)})),g}),(e=>{e.as=r=>(t=r,e),e.using=t=>(r=t,e)}))};Object.defineProperty(e,"$persist",{get:()=>t()}),e.magic("persist",t),e.persist=(t,{get:r,set:s},a=localStorage)=>{let o=storageHas(t,a)?storageGet(t,a):r();s(o),e.effect((()=>{let e=r();storageSet(t,e,a),s(e)}))}}function storageHas(e,t){return null!==t.getItem(e)}function storageGet(e,t){let r=t.getItem(e,t);if(void 0!==r)return JSON.parse(r)}function storageSet(e,t,r){r.setItem(e,JSON.stringify(t))}var module_default=src_default;export{module_default as default,src_default as persist};
//# sourceMappingURL=/sm/c436f2dc64968a414acdadfee80bb0abc3c6dd4104a2f9ae558ebe0b9ef2af9e.map